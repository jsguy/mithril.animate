<html>
<head>
	<title></title>
	<script src="mithril.js"></script>
	<script src="../node_modules/mithril.bindings/dist/mithril.bindings.js"></script>
	<script src="../src/mithril.animate.js"></script>
	<script src="../src/mithril.animate.bindings.js"></script>
	<link rel="stylesheet" type="text/css" href="examplestyle.css">
</head>
<body>
<h1>Mithril.animate - timed animations</h1>
<p>
	 Basic example that toggles an animation every 2 seconds
</p>

<div id="content"></div>

<script>
  var timedExample = {
  	model: function() {
  		this.down = m.p(0);
  	  this.opacity = m.p(1);
  	},
  	controller: function() {
  		var me = this;
  		me.model = new timedExample.model();

      setInterval(function(){
        var isDown = me.model.opacity() === "0";
        me.model.down(isDown? "0": "6em");
        me.model.opacity(isDown? "1": "0");
      }, 2000);
  	},
  	view: function(c) {
  		var o = c.model;
  		return [
  			m.e("div.exampleBox", [
  				m.e("h3", "Opacity down"),
          //  This works because we're using m.e and custom animation bindings
  				m.e("div.eBox", { translatey: o.down, opacity: o.opacity })
  			])
  		];
  	}
  };

	//initialize
	m.module(document.getElementById('content'), timedExample);
</script>

</body>
</html>
