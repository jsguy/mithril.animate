<html>
<head>
	<title></title>
	<script src="mithril.js"></script>
	<script src="../node_modules/mithril.bindings/dist/mithril.bindings.js"></script>
	<script src="../src/mithril.animate.js"></script>
	<script src="../src/mithril.animate.bindings.js"></script>
	<link rel="stylesheet" type="text/css" href="examplestyle.css">
	<style>
		.rBox { display: block; position: absolute; padding: 0.5em 1em; border: 1px solid #ccc; }
	</style>
</head>
<body>
<h1>Mithril.animate - bindable animations</h1>
<p>
	This example shows you how to create a custom keyframe animation
</p>

<div id="content"></div>

<script>
//	Add a binding - this animates when you change the property.
m.addBinding("flippyFloppy", function(prop){
	m.animateKeyframe(prop, this, {
		'0%': 	{ left: 8, top: 103 },
		'25%': 	{ left: 100, top: 40, rotate: "720deg" },
		'50%': 	{ left: 6, top: 300, rotate: "1080deg" },
		'75%': 	{ left: 300, top: 75 },
		'100%': { left: 8, top: 103 }
	}, 2000, true);
}, true);

var app = {
	model: function() {
		this.myProperty = m.prop(0);
	},
	controller: function() {
		this.model = new app.model();
	},
	view: function(c) {
		var o = c.model;
		return m.e("div.rBox", {
			toggle: o.myProperty, 
			flippyFloppy: o.myProperty 
		}, "Click me!");
	}
};

//initialize
m.module(document.getElementById('content'), app);
</script>

</body>
</html>