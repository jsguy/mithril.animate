/*! mithril.animate 07-07-2015 */
!function(){var a=function(a){a.bindings=a.bindings||{},a.p=function(b){var c,d=this,e=[],f=!1,g=function(a,b){var c;for(c=0;c<e.length;c+=1)e[c].func.apply(e[c].context,[a,b])},h=function(){if(arguments.length&&(b=arguments[0],c!==b)){var a=c;c=b,g(b,a)}return b};return h.push=function(a){b.push&&"undefined"!=typeof b.length&&b.push(a),h(b)},h.subscribe=function(a,b){return e.push({func:a,context:b||d}),h},h.delay=function(a){return f=!!a,h},h.subscribe(function(b){return f||(a.startComputation(),a.endComputation()),h}),h},a.e=function(b,c,d){for(var e in c)a.bindings[e]&&(a.bindings[e].func.apply(c,[c[e]]),a.bindings[e].removeable&&delete c[e]);return a(b,c,d)},a.addBinding=function(b,c,d){a.bindings[b]={func:c,removeable:d}},a.unwrap=function(a){return"function"==typeof a?a():a},a.addBinding("value",function(b){"function"==typeof b?(this.value=b(),this.onchange=a.withAttr("value",b)):this.value=b}),a.addBinding("checked",function(b){"function"==typeof b?(this.checked=b(),this.onchange=a.withAttr("checked",b)):this.checked=b}),a.addBinding("hide",function(b){this.style={display:a.unwrap(b)?"none":""}},!0),a.addBinding("toggle",function(a){this.onclick=function(){var b,c,d,e,f="function"==typeof a,g=[];if(f)value=a(),a(!value);else{for(b=a[0],d=b(),g=a.slice(1),e=g[0],c=0;c<g.length;c+=1)if(d==g[c]){"undefined"!=typeof g[c+1]&&(e=g[c+1]);break}b(e)}}},!0),a.addBinding("hover",function(a){this.onmouseover=a[0],a[1]&&(this.onmouseout=a[1])},!0);for(var b=["Input","Keyup","Keypress"],c=function(b,c){a.addBinding(b,function(b){"function"==typeof b?(this.value=b(),this[c]=a.withAttr("value",b)):this.value=b},!0)},d=0;d<b.length;d+=1){var e=b[d];c("value"+e,"on"+e.toLowerCase())}return a.set=function(a,b){return function(){a(b)}},a.trigger=function(){var b=Array.prototype.slice.call(arguments);return function(){var c=b[0],d=b.slice(1);a.bindings[c]&&a.bindings[c].func.apply(this,d)}},a.bindings};"undefined"!=typeof module&&null!==module&&module.exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):a("undefined"!=typeof window?window.m||{}:{})}(),function(a){var b=["Moz","Webkit","Khtml","O","ms"],c=["TransitionProperty","TransitionTimingFunction","TransitionDelay","TransitionDuration","TransitionEnd"],d=["rotate","rotatex","rotatey","scale","skew","translate","translatex","translatey","matrix"],e=400,f=function(a){window.console&&console.error&&console.error(a)},g=function(a){return a.charAt(0).toUpperCase()+a.substr(1)},h=document.createElement("div"),j=function(a,c){var d;if(a in h.style)return a;if("@keyframes"==a){for(var e=0;e<b.length;e+=1)if(d=b[e]+"Transition",d in h.style)return"@-"+b[e].toLowerCase()+"-keyframes";return a}for(var e=0;e<b.length;e+=1)if(d=c?"-"+(b[e]+"-"+a).toLowerCase():b[e]+g(a),d in h.style)return d;return a},k=function(){var a=document.body||document.documentElement,c=a.style,d="transition";if("string"==typeof c[d])return!0;d=d.charAt(0).toUpperCase()+d.substr(1);for(var e=0;e<b.length;e++)if("string"==typeof c[b[e]+d])return!0;return!1},l=function(a){var b,c=0;return a+="",a=a.toLowerCase(),-1!==a.indexOf("ms")?(b=a.split("ms"),c=Number(b[0])):-1!==a.indexOf("s")?(b=a.split("s"),c=1e3*Number(b[0])):c=Number(a),Math.round(c)},m=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.style[j(c)]=b[c])},n=function(a){var b,f,h,i,k,l={TransitionTimingFunction:"ease",TransitionDuration:e+"ms",TransitionProperty:"all"};for(b in a)if(a.hasOwnProperty(b)){for(h="Transition"+g(b),i=b.toLowerCase(),k=!1,f=0;f<c.length;f+=1)if(h==c[f]){l[c[f]]=a[b],k=!0;break}for(f=0;f<d.length;f+=1)if(i==d[f]){l[j("transform")]=l[j("transform")]||"",l[j("transform")]+=" "+b+"("+a[b]+")",k=!0;break}k||(l[b]=a[b])}return l},o=function(a){var b,c,e={},f=function(a,b,c){var e,f=b.toLowerCase(),g=!1;for(e=0;e<d.length;e+=1)if(f==d[e]){a[j("transform",!0)]=a[j("transform",!0)]||"",a[j("transform",!0)]+=" "+b+"("+c+")",g=!0;break}g?delete a[b]:a[b]=c};for(b in a)if(a.hasOwnProperty(b))if(-1!==b.indexOf("%")){for(c in a[b])a[b].hasOwnProperty(c)&&f(a[b],c,a[b][c]);e[b]=a[b]}else f(e,b,a[b]);return e},p=function(a){return"ani"+JSON.stringify(a).split(/[{},%":]/).join("")},q={},r=k();a.animateProperties=function(a,b,c){a.style=a.style||{};var d,f=n(b);"undefined"!=typeof f.TransitionDuration?f.TransitionDuration=l(f.TransitionDuration)+"ms":f.TransitionDuration=e+"ms",d=l(f.TransitionDuration)||0,r?m(a,f):"undefined"!=typeof $&&$.fn&&$.fn.animate&&$(a).animate(f,d),c&&setTimeout(c,d+1)},a.trigger=function(b,c,d,e){d=d||{};var g=q[b];return g?function(b){var f=g.fn(function(){return"function"==typeof c?c():c});for(i in d)d.hasOwnProperty(i)&&(f[i]=d[i]);a.animateProperties(b.target,f,e)}:f("Animation "+b+" not found.")},a.addAnimation=function(b,c,d){return d=d||{},q[b]?f("Animation "+b+" already defined."):"function"!=typeof c?f("Animation "+b+" is being added as a transition based animation, and must use a function."):(d.duration=d.duration||e,q[b]={options:d,fn:c},void a.addBinding(b,function(d){a.bindAnimation(b,this,c,d)},!0))},a.addKFAnimation=function(b,c,d){if(d=d||{},q[b])return f("Animation "+b+" already defined.");var g=function(a){var c,d=p(a),e=document.getElementById(d);if(!e){q[b].id=d,a=o(a),c=j("@keyframes")+" "+d+" "+JSON.stringify(a).split('"').join("").split("},").join("}\n").split(",").join(";").split("%:").join("% ");var f=document.createElement("style");f.setAttribute("id",d),f.id=d,f.textContent=c,document.head.appendChild(f)}q[b].isInitialised=!0,q[b].options.animateImmediately=!0};d.duration=d.duration||e,d.animateImmediately=d.animateImmediately||!1,q[b]={init:g,options:d,arg:c},a.addBinding(b,function(d){a.bindAnimation(b,this,c,d)},!0)},a.animateKF=function(a,b,c,d){c=c||{};var h,i=q[a],k={};if(!i)return f("Animation "+a+" not found.");i.options=i.options||{};for(h in c)c.hasOwnProperty(h)&&(i.options[h]=c[h]);!i.isInitialised&&i.init&&i.init(i.arg);for(h in i.options)i.options.hasOwnProperty(h)&&(k[j("animation"+g(h))]=i.options[h]);k[j("animationName")]=i.id,k[j("animationDuration")]=(k[j("animationDuration")]?k[j("animationDuration")]:e)+"ms",k[j("animationDelay")]=k[j("animationDelay")]?k[j("animationDuration")]+"ms":void 0,k[j("animationFillMode")]=k[j("animationFillMode")]||"forwards",b.style=b.style||{};var l=function(){b.removeEventListener("animationend",l,!1),d&&d(b)};b.style[j("animation")]="",b.style[j("animationName")]="",requestAnimationFrame(function(){requestAnimationFrame(function(){for(h in k)k.hasOwnProperty(h)&&(b.style[h]=k[h]);b.addEventListener("animationend",l,!1)})})},a.triggerKF=function(b,c){return function(){a.animateKF(b,this,c)}},a.bindAnimation=function(b,c,d,e){var g=q[b];if(!g&&!g.name)return f("Animation "+b+" not found.");if(g.fn)a.animateProperties(c,g.fn(e));else{var h=c.config;c.config=function(c,f){!g.isInitialised&&g.init&&g.init(d),e()&&f&&a.animateKF(b,c,d),h&&h.apply(c,arguments)}}}}(window.m||{}),function(a){var b,c=["scale","scalex","scaley","translate","translatex","translatey","matrix","backgroundColor","backgroundPosition","borderBottomColor","borderBottomWidth","borderLeftColor","borderLeftWidth","borderRightColor","borderRightWidth","borderSpacing","borderTopColor","borderTopWidth","bottom","clip","color","fontSize","fontWeight","height","left","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","maxHeight","maxWidth","minHeight","minWidth","opacity","outlineColor","outlineWidth","paddingBottom","paddingLeft","paddingRight","paddingTop","right","textIndent","textShadow","top","verticalAlign","visibility","width","wordSpacing","zIndex"],d=["rotate","rotatex","rotatey","skewx","skewy"];for(b=0;b<c.length;b+=1)!function(b){a.addAnimation(b,function(a){var c={};return c[b]=a(),c})}(c[b]);for(b=0;b<d.length;b+=1)!function(b){a.addAnimation(b,function(a){var c={},d=a();return c[b]=isNaN(d)?d:d+"deg",c})}(d[b]);a.addAnimation("skew",function(a){var b=a();return{skew:[b[0]+(isNaN(b[0])?"":"deg"),b[1]+(isNaN(b[1])?"":"deg")]}})}(window.m);